<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OpenSim RAG Chat Assistant</title>
    <!-- Removed Bootstrap to use custom styling -->
    <link rel="stylesheet" href="/static/styles.css">
    <!-- Add syntax highlighting library -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/vs2015.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <!-- Optional: Add language packages you need most -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/matlab.min.js"></script>
    <!-- Add clipboard.js for copy functionality -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js"></script>
</head>
<body>
    <div class="chat-container">
        <div class="chat-header">
            <!-- You may want to add a proper OpenSim logo image -->
            <img src="opensim_logo.png" alt="OpenSim Logo" class="logo" onerror="this.src='/static/opensim_logo.png'">
            <h1>OpenSim RAG Assistant</h1>
        </div>
        
        <div class="chat-messages" id="chatMessages">
            <div class="message assistant-message">
                <div class="message-content welcome-message">
                    Hello! I'm the OpenSim RAG Assistant. I can answer questions about OpenSim biomechanics software, its features, workflows, and usage. I can also provide code examples for OpenSim simulations. How can I help you today?
                </div>
            </div>
        </div>
        
        <div class="loading" id="loading">
            <div class="spinner-border" role="status">
                <svg width="40" height="40" viewBox="0 0 50 50">
                    <circle cx="25" cy="25" r="20" fill="none" stroke="#3a86ff" stroke-width="5" stroke-dasharray="80, 200" stroke-dashoffset="0">
                        <animateTransform attributeName="transform" type="rotate" dur="1s" repeatCount="indefinite" from="0 25 25" to="360 25 25"/>
                    </circle>
                </svg>
            </div>
            <p>Searching OpenSim documentation...</p>
        </div>
        
        <div class="input-area">
            <input type="text" id="userInput" placeholder="Ask a question about OpenSim..." autocomplete="off">
            <button id="sendButton">Send</button>
        </div>
        
        <div class="footer">
            <p>This assistant uses Retrieval-Augmented Generation to provide information from OpenSim documentation and resources.</p>
        </div>
    </div>

    <script src="/static/app.js"></script>
</body>
</html>